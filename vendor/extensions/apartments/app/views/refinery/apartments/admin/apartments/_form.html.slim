= form_for [refinery, :apartments_admin, @apartment] do |f|
  = render '/refinery/admin/error_messages',
    :object => @apartment,
    :include_object_name => true
  .field
    = f.label :unit_id
    = f.text_field :unit_id, :class => 'larger widest'
  .field
    = f.label :photo
    = render '/refinery/admin/image_picker',
      :f => f,
      :field => :photo_id,
      :image => @apartment.photo,
      :toggle_image_display => false
  .field
    = f.label :block
    = f.text_field :block
  .field
    = f.label :floor
    = f.number_field :floor
  .field
    = f.label :total_floors
    = f.text_field :total_floors
  .field
    = f.label :layout
    = f.text_field :layout
  .field
    = f.label :apartment_area
    = f.text_field :apartment_area
  .field
    = f.label :balcony_terace_area
    = f.text_field :balcony_terace_area
  .field
    = f.label :front_yard_area
    = f.text_field :front_yard_area
  .field
    = f.label :vestibule_area
    = f.text_field :vestibule_area
  .field
    = f.label :gallery_area
    = f.text_field :gallery_area
  .field
    = f.label :price
    = f.text_field :price

  .nested-fields
    = link_to_add_association 'add floor', f, :apartment_floors

  // Fields for new floors
  h4 = t('refinery.admin.apartment_floor_data')
  = f.simple_fields_for :apartment_floors do |af|
    = render 'apartment_floor_fields', f: af
    .links
      = link_to_add_association 'add floor', f, :apartment_floors

  = render '/refinery/admin/form_actions', :f => f,
    :continue_editing => false,
    :delete_title => t('delete', :scope => 'refinery.apartments.admin.apartments.apartment'),
    :delete_confirmation => t('message', :scope => 'refinery.admin.delete', :title => @apartment.block)
